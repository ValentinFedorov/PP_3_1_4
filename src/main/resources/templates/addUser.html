<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Заполните форму</title>
</head>
<body>
<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <p class="navbar-brand text-white">
      <b><span class="align-middle" th:text="${user.email}"></span></b>
      <span class="align-middle">with roles:</span>
      <span class="align-middle" th:text="${user.roles}"></span>
    </p>
    <form th:action="@{/logout}" method="post">
      <button type="submit" class="btn btn-dark text-secondary">Logout</button>
    </form>
  </div>
</nav>
<section>
  <div class="container-fluid">
    <div class="row">
      <div class="p-0 col-2">
        <div class="nav flex-column nav-pills pt-4" id="v-pills-tab" role="tablist" aria-orientation="vertical">
          <a class="nav-link active" href="/admin"  role="tab"
             aria-controls="v-pills-home" aria-selected="true">Admin</a>
          <a class="nav-link" href="/user" role="tab"
             aria-controls="v-pills-profile" aria-selected="false">User</a>
        </div>
      </div>
      <div class="col-10 px-0" style="background-color:#f8f7f7; height:100vh">
        <div class="container-fluid">
          <h1 class="m-3 fw-bold">Admin panel</h1>
          <div class="tab-content" id="tabContent">
            <ul class="nav nav-tabs">
              <a class="nav-link" data-toggle="tab" th:href="@{admin/}">Users Table</a>
              <a class="nav-link active" data-toggle="tab" th:href="@{admin/addUsers}">New User</a>
            </ul>


  <div class="card">
    <div class="card-header">
      <div class="m-1">
        <h4>Add new user</h4>
      </div>
    </div>
    <div class="card-body">
      <form th:method="POST" th:action="@{/admin/saveUser}" th:object="${user}" class="offset-md-4 col-md-3 mt-4 mb-4">
      <div class="mb-3 text-center">
    <label for="username" class="form-label">Логин</label>
    <input type="text" class="form-control" th:field="*{username}" id="username" placeholder="username">
      </div>
      <div class="mb-3 text-center">
    <label for="password" class="form-label">Пароль</label>
    <input type="text" class="form-control" th:field="*{password}" id="password" placeholder="password">
      </div>
      <div class="mb-3 text-center">
    <label for="firstName" class="form-label">Имя</label>
    <input type="text" class="form-control" th:field="*{name}" id="firstName" placeholder="name">
      </div>
      <div class="mb-3 text-center">
    <label for="lastName" class="form-label">Фамилия</label>
    <input type="text" class="form-control" th:field="*{lastName}" id="lastName" placeholder="Last name">
      </div>
      <div class="mb-3 text-center">
    <label for="email" class="form-label">Почта</label>
    <input type="text" class="form-control" th:field="*{email}" id="email" placeholder="name@example.com">
      </div>
        <div class="mb-3 text-center">
    <label>Roles:
      <select class="form-select" size="3" multiple aria-label="size 3 select example">
        <option
          th:each="role : ${allRoles}"
          th:text="${role.name}"
          th:value="${role.id}"
          th:field="*{roles}">
        </option>
      </select>
<!--      <input type="checkbox" name="roles"-->
<!--             th:each="role : ${allRoles}"-->
<!--             th:text="${role.name}"-->
<!--             th:value="${role.id}"-->
<!--             th:field="*{roles}"-->
<!--      />-->
    </label>
        </div>

<!--    <input type="submit" value="Добавить"/>-->
        <div class="mb-3 text-center">
      <button type="submit" class="btn btn-success">Add new user</button>
        </div>
      </form>
    </div>
  </div>
    </div>
  </div>
      </div>
    </div>
  </div>
</section>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>